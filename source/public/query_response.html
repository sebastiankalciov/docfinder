<!DOCTYPE html>
<html lang="en">
    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>DocFinder</title>
        <link rel="icon" type="image/x-icon" href="meta/favicon.jpg">
        <link rel="stylesheet" href="./meta/style.css">
        <link rel="stylesheet" 
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
        crossorigin="anonymous" 
        referrerpolicy="no-referrer"/>
    </head>

    <body>
        <div class="control">
            <div class="row header">
                <a href="index.html">
                    <img src="meta/logo.png" 
                        alt="Go to Homepage" 
                        width="200">
                    </img>
                </a>
                <h2 id = "counter"></h2>
            </div>

            <div class="col">
                <!-- API Results -->
                <div class="button shadow">
                    <div class="text">
                        <p id = "data0"></p>
                    </div>
                    
                </div>
                <div class="button shadow">
                    <div class="text">
                        <p id = "data1"></p>
                    </div>
                    
                </div>
                <div class="button shadow">
                    <div class="text">
                        <p id = "data2"></p>
                    </div>
                    
                </div>
            </div>

        </div>

        <script>

            let queryString = window.location.search;
            let urlParams = new URLSearchParams(queryString);
            let jsonData = urlParams.get("jsonData");

            let decodedData = decodeURIComponent(jsonData);

            let listData = decodedData.split("|")
            
            let counter = listData.length
            
            document.getElementById("data0").innerHTML += listData[0].replace(",", " ");
            document.getElementById("data1").innerHTML += listData[1].replace(",", " ");
            document.getElementById("data2").innerHTML += listData[2].replace(",", " ");

            document.getElementById("counter").innerHTML = `Am gasit ${counter - 1} rezultate:`

        </script>

    </body>
</html>